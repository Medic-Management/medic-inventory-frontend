@if (isOpen) {
  <div class="modal-overlay" (click)="onClose()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <h2 class="modal-title">Nuevo Producto</h2>

      <form class="product-form" (ngSubmit)="onSubmit()">
        
        <div class="image-upload-area">
          <div class="upload-placeholder">
            <div class="upload-icon">
              <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                <rect x="5" y="10" width="30" height="25" rx="2" stroke="#9ca3af" stroke-width="2" stroke-dasharray="4 4"/>
                <path d="M20 18v8M16 22h8" stroke="#9ca3af" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <p class="upload-text">Arrastre la imagen aquí</p>
            <p class="upload-text-small">o</p>
            <button type="button" class="upload-link">Explorar imagen</button>
          </div>
        </div>

        
        <div class="form-row">
          <div class="form-group">
            <label for="name">Nombre</label>
            <input
              type="text"
              id="name"
              class="form-control"
              placeholder="Nombre del medicamento"
              [(ngModel)]="productData.name"
              name="name"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="batchNumber">Número de lote</label>
            <input
              type="text"
              id="batchNumber"
              class="form-control"
              placeholder="Número de lote"
              [(ngModel)]="productData.batchNumber"
              name="batchNumber"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="expirationDate">Fecha de vencimiento</label>
            <input
              type="date"
              id="expirationDate"
              class="form-control"
              placeholder="Fecha de vencimiento"
              [(ngModel)]="productData.expirationDate"
              name="expirationDate"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="quantity">Cantidad</label>
            <input
              type="number"
              id="quantity"
              class="form-control"
              placeholder="Cantidad"
              [(ngModel)]="productData.quantity"
              name="quantity"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="supplier">Proveedor</label>
            <input
              type="text"
              id="supplier"
              class="form-control"
              placeholder="Proveedor"
              [(ngModel)]="productData.supplier"
              name="supplier"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="observations">Observaciones</label>
            <input
              type="text"
              id="observations"
              class="form-control"
              placeholder="Observaciones"
              [(ngModel)]="productData.observations"
              name="observations"
            />
          </div>
        </div>

        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" (click)="onClose()">Descartar</button>
          <button type="submit" class="btn btn-primary">Guardar</button>
        </div>
      </form>
    </div>
  </div>
}
